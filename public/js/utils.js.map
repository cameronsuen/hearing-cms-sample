{"version":3,"sources":["Request.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"utils.js","sourcesContent":["// Module: Wrapper for the AJAX calls with access token\nvar Request = (function() {\n\t\n\tvar handleResponse = function(success) {\n\t\treturn function(result) {\n\t\t\tif (result.success) {\n\t\t\t\tsuccess(result.data);\n\t\t\t\tPubSub.publish('valid_token', 'valid_token');\n\t\t\t} else {\n\t\t\t\tPubSub.publish('invalid_token', 'invalid_token');\n\t\t\t}\n\n\t\t}\n\t}\n\treturn {\n\t\tget: function(url, data, success, dataType) {\n\t\t\tconsole.log('Access token: ' + localStorage.accessToken);\n\t\t\t$.ajax({\n\t\t\t\turl: url,\n\t\t\t\tdata: data,\n\t\t\t\tsuccess: handleResponse(success),\n\t\t\t\tdataType: dataType,\n\t\t\t\tbeforeSend: function(xhr) {\n\t\t\t\t\txhr.setRequestHeader('Authorization', 'Bearer ' + localStorage.accessToken);\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\tpost: function(url, data, success, dataType) {\n\t\t\t$.ajax({\n\t\t\t\turl: url,\n\t\t\t\tmethod: 'POST',\n\t\t\t\tdata: data,\n\t\t\t\tsuccess: handleResponse(success),\n\t\t\t\tdataType: dataType,\n\t\t\t\tbeforeSend: function(xhr) {\n\t\t\t\t\txhr.setRequestHeader('Authorization', 'Bearer ' + localStorage.accessToken);\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\tpatch: function(url, data, success, dataType) {\n\t\t\t$.ajax({\n\t\t\t\turl: url,\n\t\t\t\tmethod: 'PATCH',\n\t\t\t\tdata: data,\n\t\t\t\tsuccess: handleResponse(success),\n\t\t\t\tdataType: dataType,\n\t\t\t\tbeforeSend: function(xhr) {\n\t\t\t\t\txhr.setRequestHeader('Authorization', 'Bearer ' + localStorage.accessToken);\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\tput: function(url, data, success, dataType) {\n\t\t\t$.ajax({\n\t\t\t\turl: url,\n\t\t\t\tmethod: 'PUT',\n\t\t\t\tdata: data,\n\t\t\t\tsuccess: handleResponse(success),\n\t\t\t\tdataType: dataType,\n\t\t\t\tbeforeSend: function(xhr) {\n\t\t\t\t\txhr.setRequestHeader('Authorization', 'Bearer ' + localStorage.accessToken);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t};\n}());\n"],"sourceRoot":"/source/"}